# Тестовое задание в ЦБ РФ
Напишите программу, эмулирующую работу диспетчера печати документов.

1. Программа должна быть написана с использованием Java 7.
2. Диспетчер печати может работать с несколькими типами документов (3-5 типов).
3. Каждый тип документа должен иметь уникальные реквизиты: продолжительность печати, наименование типа документа, размер бумаги.
4. Диспетчер помещает в очередь печати неограниченное количество документов. При этом каждый документ может быть обработан, только если в это же время не обрабатывается другой документ, время обработки каждого документа равно продолжительности печати данного документа.

5. Диспетчер должен иметь следующие методы:
    - Остановка диспетчера. Печать документов в очереди отменяется. На выходе должен быть список ненапечатанных документов.
    - Принять документ на печать. Метод не должен блокировать выполнение программы.
    - Отменить печать принятого документа, если он еще не был напечатан.
    - Получить отсортированный список напечатанных документов. Список может быть отсортирован на выбор: по порядку печати, по типу документов, по продолжительности печати, по размеру бумаги.
    - Рассчитать среднюю продолжительность печати напечатанных документов
    
## Как пользоваться и что делать
Решение не идеальное, потому что файлы реализованы на классе расширения, т.к. никакой дополнительной логики они в себе 
не несут и смысла городить еще одну обертку над ними нет.
Тем не менее состав такой:

       
- doctype - содержит расширения файлов наследников от AbstractFileType.
- dispatcher - содержит собственно диспетчер, который обрабатывает печать документов.
    Печать начинается при добавлении первого файла и будет продолжаться в отдельном потоке до последнего "файла" в очереди. Печать можно отменить с помощью метода stopPrint(). Текущий файл напечатан не будет. Поток прерывается. Блочить ничего не должен т.к. поток работающий с очередью один и synchronized здесь не требуется. 
    Для сортировки были сделаны кастомные компараторы. Находятся в папке comparator. Ничего необычного.
    В Main файле базовые проверки чтобы не тащить с собой еще и JUnit ибо можно застрелиться это всё пересылать по почте.
    
    Работа предельно проста:
    ```
    Dispatcher dispatcher = new Dispatcher();
    dispatcher.add(new PDFType("name")); // добавить файл в очередь печати
    dispatcher.cancelLastDocPrint(); // отмена печати последнего ненапечатанного файла
    dispatcher.stopPrint(); //остановить печать и вывести результаты
    dispatcher.getPrintedList(param or empty); /*параметры: type, time, size, name. 
    Выводит список напечатанных файлов в соответствии с выбранной сортировкой. 
    Пустое поле - сортировка по умолчанию: в порядке печати.*/
    dispatcher.getAverageTime() - возвращает среднюю скорость печати в секундах
    
    
    ```
   
